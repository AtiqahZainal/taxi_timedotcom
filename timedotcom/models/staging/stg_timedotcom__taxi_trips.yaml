models:
  - name: stg_timedotcom__taxi_trips
    description: 'Raw data from sources, partitioned the table by date and only taking data from 2020'
    columns:
      - name: unique_key
        description: "Unique ID for each trip"
        tests:
          - not_null
          - unique

      - name: taxi_id
        description: "Taxi ID associated with Company"

      - name: trip_start_timestamp
        description: ""

      - name: trip_end_timestamp
        description: ""
        tests:
          - dbt_utils.expression_is_true:
              expression: "trip_end_timestamp > trip_start_timestamp"
              name: end_trip_after_start_timestamp

      - name: trip_seconds
        description: ""

      - name: trip_miles
        description: ""

      - name: fare
        description: ""

      - name: tips
        description: ""

      - name: tolls
        description: ""

      - name: extras
        description: ""

      - name: trip_total
        description: ""

      - name: payment_type
        description: ""
        tests:
          - not_null
          - accepted_values:
              name: unexpected_payment_type
              values:
                - "No Charge"
                - "Prcard"
                - "Dispute"
                - "Prepaid"
                - "Cash"
                - "Unknown"
                - "Mobile"
                - "Credit Card"

      - name: company
        description: ""
        tests:
          - not_null

      - name: pickup_latitude
        description: ""

      - name: pickup_longitude
        description: ""

      - name: pickup_location
        description: ""

      - name: dropoff_latitude
        description: ""

      - name: dropoff_longitude
        description: ""

      - name: dropoff_location
        description: ""